<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  
  <!-- SEO & Core Metadata -->
  <title>The Daren Nexus</title>
  <meta name="description" content="Engage in deep, authentic conversations with The Daren Nexus, an AI reflection of Daren Prince. Explore ideas, get real-talk advice, and discover a new kind of real, raw conversational partner with no filters, no BS.">
  <meta name="author" content="Daren Prince">
  <meta name="keywords" content="AI chat, conversational AI, Daren Prince, personal AI, deep dive, real talk, emotional intelligence, trauma-informed, Nexus">
  <meta name="theme-color" content="#06010a">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://ai.darenprince.com">
  <meta property="og:title" content="The Daren Nexus">
  <meta property="og:description" content="Engage in deep, authentic conversations with The Daren Nexus, an AI reflection of Daren Prince. Explore ideas, get real-talk advice, and discover a new kind of real, raw conversational partner with no filters, no BS.">
  <meta property="og:image" content="data:image/svg+xml,%3csvg width='1200' height='630' viewBox='0 0 1200 630' xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cradialGradient id='og-bg-grad' cx='50%25' cy='0%25' r='100%25'%3e%3cstop offset='0%25' stop-color='%2310031c' /%3e%3cstop offset='100%25' stop-color='%2306010a' /%3e%3c/radialGradient%3e%3clinearGradient id='logo-grad' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3e%3cstop offset='0%25' stop-color='%23F97316' /%3e%3cstop offset='100%25' stop-color='%23DC2626' /%3e%3c/linearGradient%3e%3cstyle%3e.title { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; font-size: 70px; font-weight: bold; fill: %23FFFFFF; text-anchor: middle; } .tagline { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; font-size: 40px; fill: rgba(235, 235, 245, 0.7); text-anchor: middle; }%3c/style%3e%3c/defs%3e%3crect width='1200' height='630' fill='url(%23og-bg-grad)' /%3e%3cg transform='translate(450, 100) scale(12.5)'%3e%3cpath stroke='url(%23logo-grad)' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' fill='none' d='M18.122 17.645a7.185 7.185 0 0 1-2.656 2.495 7.06 7.06 0 0 1-3.52.853 6.617 6.617 0 0 1-3.306-.718 6.73 6.73 0 0 1-2.54-2.266c-2.672-4.57.287-8.846.887-9.668A4.448 4.448 0 0 0 8.07 6.31 4.49 4.49 0 0 0 7.997 4c1.284.965 6.43 3.258 5.525 10.631 1.496-1.136 2.7-3.046 2.846-6.216 1.43 1.061 3.985 5.462 1.754 9.23Z' /%3e%3c/g%3e%3ctext x='600' y='480' class='title'%3eThe Daren Nexus%3c/text%3e%3ctext x='600' y='550' class='tagline'%3eNo filter. No bullshit.%3c/text%3e%3c/svg%3e">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:site_name" content="The Daren Nexus">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://ai.darenprince.com/">
  <meta property="twitter:title" content="The Daren Nexus">
  <meta property="twitter:description" content="Engage in deep, authentic conversations with The Daren Nexus, an AI reflection of Daren Prince. Explore ideas, get real-talk advice, and discover a new kind of real, raw conversational partner with no filters, no BS.">
  <meta property="twitter:image" content="data:image/svg+xml,%3csvg width='1200' height='630' viewBox='0 0 1200 630' xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cradialGradient id='og-bg-grad' cx='50%25' cy='0%25' r='100%25'%3e%3cstop offset='0%25' stop-color='%2310031c' /%3e%3cstop offset='100%25' stop-color='%2306010a' /%3e%3c/radialGradient%3e%3clinearGradient id='logo-grad' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3e%3cstop offset='0%25' stop-color='%23F97316' /%3e%3cstop offset='100%25' stop-color='%23DC2626' /%3e%3c/linearGradient%3e%3cstyle%3e.title { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; font-size: 70px; font-weight: bold; fill: %23FFFFFF; text-anchor: middle; } .tagline { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; font-size: 40px; fill: rgba(235, 235, 245, 0.7); text-anchor: middle; }%3c/style%3e%3c/defs%3e%3crect width='1200' height='630' fill='url(%23og-bg-grad)' /%3e%3cg transform='translate(450, 100) scale(12.5)'%3e%3cpath stroke='url(%23logo-grad)' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' fill='none' d='M18.122 17.645a7.185 7.185 0 0 1-2.656 2.495 7.06 7.06 0 0 1-3.52.853 6.617 6.617 0 0 1-3.306-.718 6.73 6.73 0 0 1-2.54-2.266c-2.672-4.57.287-8.846.887-9.668A4.448 4.448 0 0 0 8.07 6.31 4.49 4.49 0 0 0 7.997 4c1.284.965 6.43 3.258 5.525 10.631 1.496-1.136 2.7-3.046 2.846-6.216 1.43 1.061 3.985 5.462 1.754 9.23Z' /%3e%3c/g%3e%3ctext x='600' y='480' class='title'%3eThe Daren Nexus%3c/text%3e%3ctext x='600' y='550' class='tagline'%3eNo filter. No bullshit.%3c/text%3e%3c/svg%3e">
  
  <!-- Favicons & App Icons -->
  <link rel="icon" href="data:image/svg+xml,%3csvg width='32' height='32' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3clinearGradient id='grad-nexus-icon' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3e%3cstop offset='0%25' stop-color='%23F97316' /%3e%3cstop offset='100%25' stop-color='%23DC2626' /%3e%3c/linearGradient%3e%3c/defs%3e%3cpath stroke='url(%23grad-nexus-icon)' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' fill='none' d='M18.122 17.645a7.185 7.185 0 0 1-2.656 2.495 7.06 7.06 0 0 1-3.52.853 6.617 6.617 0 0 1-3.306-.718 6.73 6.73 0 0 1-2.54-2.266c-2.672-4.57.287-8.846.887-9.668A4.448 4.448 0 0 0 8.07 6.31 4.49 4.49 0 0 0 7.997 4c1.284.965 6.43 3.258 5.525 10.631 1.496-1.136 2.7-3.046 2.846-6.216 1.43 1.061 3.985 5.462 1.754 9.23Z'/%3e%3c/svg%3e" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/apple-touch-icon.svg">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#F97316">

  <!-- Apple Web App Meta -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  
  <!-- Web App Manifest -->
  <link rel="manifest" href="/manifest.json">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Sofia+Sans+Extra+Condensed:wght@800&display=swap" rel="stylesheet">

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            nexusPurple: {
              400: '#a78bfa',
              500: '#8b5cf6',
              600: '#7c3aed',
              700: '#6d28d9',
              800: '#5b21b6',
            }
          },
          fontFamily: {
            sans: ['-apple-system', 'BlinkMacSystemFont', '"Segoe UI"', 'Roboto', 'Helvetica', 'Arial', 'sans-serif'],
            'sofia-sans-ext-cond': ['"Sofia Sans Extra Condensed"', 'sans-serif'],
          },
          animation: {
            'fade-in': 'fadeIn 0.5s ease-out forwards',
            'fade-out': 'fadeOut 0.5s ease-in forwards',
            'drop-in': 'dropIn 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards',
            'auth-emerge': 'auth-emerge 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.3s forwards',
            'pulse-strong': 'pulse-strong 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            'subtle-pulse': 'subtle-pulse 3s ease-in-out infinite',
            'fire-pulse': 'fire-pulse 3s ease-in-out infinite',
            'breathing': 'breathing 4s ease-in-out infinite',
            'edge-glow': 'edge-glow 2.5s ease-in-out infinite',
            'twinkle': 'twinkle 1.2s ease-in-out infinite',
            'word-fade': 'word-fade-in-out 0.8s ease-in-out forwards',
            'lit-glow-and-fade': 'lit-glow-and-fade 2s ease-in-out forwards',
            'flame-ignite-flash': 'flame-ignite-flash 0.7s ease-out forwards',
            'dot-bounce': 'dot-bounce 1.4s infinite ease-in-out',
            'wiggle-on-hover': 'wiggle-on-hover 0.5s ease-in-out forwards',
            'slide-up-fade-in': 'slide-up-fade-in 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards',
            'tile-select': 'tile-select-effect 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards',
            'shine-effect': 'shine-effect 2.5s ease-in-out forwards',
            'copy-confirm': 'copy-confirm-animation 1s ease-out forwards',
            'submenu-in': 'submenu-in-animation 0.2s ease-out forwards',
          },
          keyframes: {
            fadeIn: {
                'from': { opacity: '0' },
                'to': { opacity: '1' },
            },
            fadeOut: {
                'from': { opacity: '1' },
                'to': { opacity: '0' },
            },
            dropIn: {
                'from': { transform: 'translateY(-100%)', opacity: '0' },
                'to': { transform: 'translateY(0)', opacity: '1' },
            },
            'auth-emerge': {
                'from': { opacity: '0', transform: 'translateY(-100%)' },
                'to': { opacity: '1', transform: 'translateY(0)' },
            },
            'pulse-strong': {
              '0%, 100%': { opacity: '0.5' },
              '50%': { opacity: '1' },
            },
            'subtle-pulse': {
              '0%, 100%': {
                filter: 'drop-shadow(0 0 4px rgba(249, 115, 22, 0.15))'
              },
              '50%': {
                filter: 'drop-shadow(0 0 12px rgba(249, 115, 22, 0.25))'
              },
            },
            'fire-pulse': {
              '0%, 100%': { opacity: '0.7', transform: 'scale(1)' },
              '20%': { opacity: '1', transform: 'scale(1.05)' },
              '40%': { opacity: '0.75', transform: 'scale(1)' },
              '60%': { opacity: '0.95', transform: 'scale(1.02)' },
              '80%': { opacity: '0.7', transform: 'scale(0.98)' },
            },
            breathing: {
              '0%, 100%': {
                transform: 'scale(1)',
              },
              '50%': {
                transform: 'scale(1.05)',
              }
            },
            'edge-glow': {
              '0%, 100%': {
                boxShadow: '0 0 15px 5px rgba(249, 115, 22, 0), inset 0 0 15px 5px rgba(249, 115, 22, 0)',
              },
              '50%': {
                boxShadow: '0 0 30px 10px rgba(249, 115, 22, 0.3), inset 0 0 20px 5px rgba(249, 115, 22, 0.2)',
              }
            },
            twinkle: {
                '0%, 100%': {
                    opacity: 0.2,
                    boxShadow: '0 0 2px 0.2px rgba(255, 255, 255, 0.2)'
                },
                '50%': {
                    opacity: 1,
                    boxShadow: '0 0 5px 1px rgba(255, 255, 255, 0.5)'
                }
            },
            'twinkle-bright': {
                '0%, 100%': { opacity: '0.2', transform: 'scale(0.9)' },
                '50%': { opacity: '0.8', transform: 'scale(1.1)', filter: 'brightness(1.5)' },
            },
            'ember-rise-subtle': {
                'from': {
                    transform: 'translateY(0) scale(var(--start-scale, 1))',
                    opacity: '0.9',
                },
                'to': {
                    transform: 'translateY(-30vh) scale(0) translateX(var(--x-drift, 0px))',
                    opacity: '0',
                }
            },
            'smoke-rise': {
                '0%': { transform: 'translateY(0) scale(1)', opacity: '0' },
                '20%': { opacity: '0.1' },
                '100%': { transform: 'translateY(-60vh) scale(5) translateX(var(--x-drift)) rotate(30deg)', opacity: '0' }
            },
            'float-cloud': {
                'from': { transform: 'translateX(-150%)' },
                'to': { transform: 'translateX(150%)' }
            },
            'shooting-star-travel': {
                '0%': { transform: 'translateX(0) rotate(-45deg)', opacity: 1 },
                '100%': { transform: 'translateX(-150vw) rotate(-45deg)', opacity: 0 }
            },
            'word-fade-in-out': {
                '0%, 100%': { opacity: '0', transform: 'scale(0.8)' },
                '20%, 80%': { opacity: '1', transform: 'scale(1)' },
            },
            'lit-glow-and-fade': {
                '0%': { opacity: '0', transform: 'scale(0.8) rotate(-5deg)' },
                '20%': { opacity: '1', transform: 'scale(1.2) rotate(-5deg)', color: '#fff', textShadow: '0 0 20px #fff, 0 0 45px #f97316, 0 0 70px #f97316, 0 0 100px #dc2626' },
                '80%': { opacity: '1', transform: 'scale(1.1) rotate(-5deg)', color: '#fff', textShadow: '0 0 15px #fff, 0 0 30px #f97316, 0 0 50px #dc2626' },
                '100%': { opacity: '0', transform: 'scale(50) rotate(-5deg)' },
            },
            'lit-stroke-exit': {
                '0%, 19%': { transform: 'scale(1.1) rotate(-5deg)', opacity: '0' },
                '20%': { opacity: '1' },
                '80%': { opacity: '1', transform: 'scale(1.1) rotate(-5deg)' },
                '100%': { opacity: '0', transform: 'scale(50) rotate(-5deg)' },
            },
            'spark-fly-out': {
                'from': { transform: 'scale(0.5)', opacity: '1' },
                'to': { transform: 'scale(1.5)', opacity: '0' }
            },
            'flame-ignite-flash': {
                '0%': { opacity: '0', transform: 'scale(0.5)' },
                '50%': { opacity: '1', transform: 'scale(1.5)', filter: 'brightness(3) saturate(2)' },
                '100%': { opacity: '1', transform: 'scale(1)', filter: 'brightness(1) saturate(1)' }
            },
            blink: {
              'to': {
                  visibility: 'hidden',
              }
            },
            'rotate-gradient': {
                'from': { transform: 'rotate(0deg)' },
                'to': { transform: 'rotate(360deg)' }
            },
            'dot-bounce': {
              '0%, 100%': {
                transform: 'translateY(0)',
              },
              '50%': {
                transform: 'translateY(-6px)',
              },
            },
            'wiggle-on-hover': {
                '0%':   { transform: 'scale(1) rotate(0deg)' },
                '20%':  { transform: 'scale(1.15) rotate(-8deg)' },
                '40%':  { transform: 'scale(1.15) rotate(6deg)' },
                '60%':  { transform: 'scale(1.15) rotate(-4deg)' },
                '80%':  { transform: 'scale(1.15) rotate(2deg)' },
                '100%': { transform: 'scale(1.15) rotate(0deg)' }
            },
            'slide-up-fade-in': {
                'from': {
                    opacity: '0',
                    transform: 'translateY(40px)',
                },
                'to': {
                    opacity: '1',
                    transform: 'translateY(0)',
                }
            },
            'tile-select-effect': {
                '0%': {
                    transform: 'scale(1)',
                    opacity: '1',
                },
                '100%': {
                    transform: 'scale(1.15)',
                    opacity: '0',
                }
            },
            'chase-border-spinner': {
              'to': { transform: 'rotate(360deg)' }
            },
            'energy-wave': {
              '0%': {
                transform: 'scale(1)',
                opacity: '0.5',
                boxShadow: '0 0 0 0px rgba(249, 115, 22, 0.7)',
              },
              '100%': {
                transform: 'scale(1)',
                opacity: '0',
                boxShadow: '0 0 50px 100px rgba(249, 115, 22, 0)',
              }
            },
            'shine-effect': {
              '0%': { transform: 'translateX(-150%) skewX(-20deg)' },
              '100%': { transform: 'translateX(250%) skewX(-20deg)' },
            },
             'radiate-outward': {
                from: {
                    transform: 'scale(0)',
                    opacity: '0.7',
                },
                to: {
                    transform: 'scale(4)',
                    opacity: '0',
                }
            },
            'preloader-exit-bg': {
                'to': { opacity: '0' }
            },
            'preloader-exit-content': {
                'to': { transform: 'scale(0)', opacity: '0' }
            },
            'copy-confirm-animation': {
              '0%': { transform: 'scale(0.5)', opacity: '0' },
              '50%': { transform: 'scale(1.2)', opacity: '1' },
              '100%': { transform: 'scale(1)', opacity: '1' },
            },
            'submenu-in-animation': {
                'from': {
                    opacity: '0',
                    transform: 'translateY(-10px) scale(0.95)',
                },
                'to': {
                    opacity: '1',
                    transform: 'translateY(0) scale(1)',
                }
            }
          }
        }
      }
    }
  </script>

  <style>
    /* --- PRELOADER STYLES --- */
    #pre-load {
      background-color: #06010a;
      background-image: radial-gradient(ellipse at 50% 0%, #10031c 0%, #06010a 70%);
      position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; z-index: 999999;
    }
    #pre-load.loaded {
      animation: preloader-exit-bg 0.8s ease-in forwards;
      pointer-events: none;
    }
    #pre-load.loaded .loader-inner {
      animation: preloader-exit-content 0.6s ease-in forwards;
    }
    #pre-load .loader-inner { position: relative; height: 250px; aspect-ratio: 1; display: flex; align-items: center; justify-content: center; perspective: 800px; }
    #pre-load .loader-inner .loader-logo { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; animation: logo-flip-and-spin 3.25s infinite ease-in-out; z-index: 999; transform-style: preserve-3d; }
    #pre-load .loader-inner .loader-logo svg { width: 100%; height: 100%; }
    #pre-load .loader-logo .gradient-path {
        animation: icon-morph-and-flicker 3.25s ease-out forwards;
    }

    @keyframes fill-orange-then-purple-sequence {
      /* Phase 1: Orange Fill */
      0%   { --progress: 0%; opacity: 0; background: conic-gradient(from var(--angle, 0deg), #F97316, #DC2626, #F97316); box-shadow: none; }
      2%   { opacity: 1; }
      30%  { --progress: 100%; opacity: 1; }
      
      /* Pause */
      31%, 40% { --progress: 100%; opacity: 1; background: conic-gradient(from var(--angle, 0deg), #F97316, #DC2626, #F97316); box-shadow: none; }
      
      /* Fade out orange to reveal nothing */
      42% { --progress: 100%; opacity: 0; }
      
      /* Phase 2: Purple Fill */
      43%  { --progress: 0%; opacity: 0; background: conic-gradient(from var(--angle, 0deg), #4c1d95, #8b5cf6, #4c1d95); box-shadow: 0 0 15px 3px rgba(139, 92, 246, 0.4); }
      45%  { opacity: 1; }
      85%  { --progress: 100%; opacity: 1; }
      100% { opacity: 1; }
    }

    @keyframes icon-morph-and-flicker {
      /* Starts orange */
      0%, 14% { stroke: url(#grad-nexus-icon-preloader); opacity: 1; }
      
      /* Turns black as it flips around */
      25% { stroke: #000; opacity: 1; }

      /* Returns to orange before the sequence changes */
      36%, 39% { stroke: url(#grad-nexus-icon-preloader); opacity: 1; }
      
      /* Fades out orange before turning light grey */
      40% { stroke: url(#grad-nexus-icon-preloader); opacity: 0; }
      
      /* Fades to light grey */
      41% { stroke: #e5e7eb; } /* Light Grey */
      50% { opacity: 0.5; box-shadow: 0 0 5px 2px #e5e7eb; } /* Fully light grey shadow */

      /* Flickers */
      60% { opacity: 0.4; }
      65% { opacity: 1; stroke: #ffffff; }
      70% { opacity: 0.6; stroke: #e5e7eb; }
      75% { opacity: 1; }
      80% { opacity: 0.7; stroke: #ffffff; }
      85% { opacity: 1; stroke: #e5e7eb; }
      100% { opacity: 1; }
    }

    @keyframes logo-flip-and-spin {
      0% { transform: translate(-50%, -50%) scale(1) rotate3d(0, 0, 0, 0deg); }
      25% { transform: translate(-50%, -50%) scale(1.15) rotate3d(0, 1, 0, 180deg); }
      50% { transform: translate(-50%, -50%) scale(1.3) rotate3d(0, 1, 0, 360deg); }
      75% { transform: translate(-50%, -50%) scale(1.15) rotate3d(1, 0, 0, 180deg); }
      100% { transform: translate(-50%, -50%) scale(1) rotate3d(1, 0, 0, 360deg); }
    }

    #pre-load .loader-inner .box {
      position: absolute;
      background: linear-gradient(0deg, rgba(50, 50, 50, .2) 0%, rgba(100, 100, 100, .2) 100%);
      border-radius: 50%;
      border-top: 1px solid rgb(100, 100, 100);
      box-shadow: rgba(0, 0, 0, .3) 0 10px 10px 0;
      backdrop-filter: blur(5px);
      animation: ripple 3.25s infinite ease-in-out;
    }

    #pre-load .loader-inner .box::after {
        content: '';
        position: absolute;
        inset: 0;
        border-radius: 50%;
        padding: 4px; 
        -webkit-mask:
            linear-gradient(#fff 0 0) content-box,
            linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor;
                mask-composite: exclude;
        mask-image: conic-gradient(black var(--progress, 0%), transparent 0);
        -webkit-mask-image: conic-gradient(black var(--progress, 0%), transparent 0);
        animation: fill-orange-then-purple-sequence 3.25s ease-out forwards;
        animation-delay: inherit; 
    }

    #pre-load .loader-inner .box:nth-of-type(1)::after { filter: brightness(1.0); }
    #pre-load .loader-inner .box:nth-of-type(2)::after { filter: brightness(0.9); }
    #pre-load .loader-inner .box:nth-of-type(3)::after { filter: brightness(0.8); }
    #pre-load .loader-inner .box:nth-of-type(4)::after { filter: brightness(0.7); }
    #pre-load .loader-inner .box:nth-of-type(5)::after { filter: brightness(0.6); }

    #pre-load .loader-inner .box:nth-of-type(1) { width: 25%; aspect-ratio: 1/1; z-index: 99; --angle: 180deg; animation-delay: 0s; }
    #pre-load .loader-inner .box:nth-of-type(2) { inset: 30%; z-index: 98; --angle: 252deg; animation-delay: .1s; }
    #pre-load .loader-inner .box:nth-of-type(3) { inset: 20%; z-index: 97; --angle: 324deg; animation-delay: .2s; }
    #pre-load .loader-inner .box:nth-of-type(4) { inset: 10%; z-index: 96; --angle: 36deg;  animation-delay: .3s; }
    #pre-load .loader-inner .box:nth-of-type(5) { inset: 0; z-index: 95; --angle: 108deg; animation-delay: .4s; }

    @keyframes ripple {
      0% { transform: scale(1); box-shadow: rgba(0, 0, 0, .3) 0 10px 10px 0; }
      50% { transform: scale(1.3); box-shadow: rgba(0, 0, 0, .3) 0 30px 20px 0; }
      100% { transform: scale(1); box-shadow: rgba(0, 0, 0, .3) 0 10px 10px 0; }
    }

    /* --- SMOOTH SCROLLING & GLOW EFFECTS --- */
    html {
      scroll-behavior: smooth;
    }
    .smooth-scroll {
      scroll-behavior: smooth !important;
    }
    @keyframes chase-border-input {
      to { --angle: 360deg; }
    }
    .input-chase-glow::before {
      content: '';
      position: absolute;
      inset: -2px;
      border-radius: inherit;
      padding: 2px;
      background: conic-gradient(from var(--angle), transparent 25%, #dc2626, #f97316, transparent 75%);
      -webkit-mask:
        linear-gradient(#fff 0 0) content-box,
        linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      animation: chase-border-input 3s linear infinite;
      pointer-events: none;
    }
    .input-chase-glow > input,
    .input-chase-glow > textarea {
      box-shadow: inset 0 0 4px 1px rgba(249, 115, 22, 0.05);
    }

    @keyframes radiating-glow {
      from {
        transform: translate(-50%, -50%) scale(0);
        opacity: 0.6;
      }
      to {
        transform: translate(-50%, -50%) scale(3.5);
        opacity: 0;
      }
    }
    .btn-radiate-glow {
      position: relative;
      overflow: hidden;
      -webkit-tap-highlight-color: transparent; /* Improve mobile experience */
      z-index: 1; 
    }
    .btn-radiate-glow::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 150%;
      padding-bottom: 150%;
      background: radial-gradient(circle, var(--particle-color-1) 0%, transparent 70%);
      border-radius: 50%;
      transform: translate(-50%, -50%) scale(0);
      opacity: 0;
      pointer-events: none;
      z-index: -1;
    }
    .btn-radiate-glow:active::after {
      animation: radiating-glow 0.6s ease-out;
    }

    .auth-plug-in-button.is-loading::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 9999px; /* rounded-full */
      animation: energy-wave 1.7s ease-out infinite;
      z-index: 0;
    }
    .auth-plug-in-button > span {
        position: relative;
        z-index: 1;
    }
    
    /* --- MODE TILE SHINE EFFECT --- */
    .tile-shine-effect::after {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 20%;
      height: 200%;
      background: linear-gradient(
        to right,
        rgba(255, 255, 255, 0) 0%,
        rgba(252, 165, 165, 0.4) 50%, /* A softer orange/red for the shine */
        rgba(255, 255, 255, 0) 100%
      );
      transform: translateX(-150%) skewX(-20deg);
      animation-name: shine-effect;
      animation-timing-function: ease-in-out;
      animation-duration: 2s; /* Slower, more elegant shine */
      animation-fill-mode: forwards;
      animation-delay: inherit; /* Uses the style attribute delay */
    }

    /* --- VOICE MODE ACTIVE GLOW --- */
    @keyframes voice-mode-glow-animation {
      0% { box-shadow: inset 0 0 15px 5px rgba(249, 115, 22, 0), inset 0 0 25px 10px rgba(220, 38, 38, 0); }
      50% { box-shadow: inset 0 0 25px 8px rgba(249, 115, 22, 0.4), inset 0 0 40px 15px rgba(220, 38, 38, 0.2); }
      100% { box-shadow: inset 0 0 15px 5px rgba(249, 115, 22, 0), inset 0 0 25px 10px rgba(220, 38, 38, 0); }
    }
    body.voice-mode-active-glow::before {
      content: '';
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 10000;
      animation: voice-mode-glow-animation 3s ease-in-out infinite;
    }

    /* --- ACCESSIBILITY: CUSTOM FOCUS STATES --- */
    /* Remove default outlines on all elements, relying on custom styles. */
    *:focus, *:focus-visible {
      outline: none;
      box-shadow: none;
    }
    /* Provide a consistent, on-brand focus style for buttons that use the glow effect. */
    .btn-radiate-glow:focus-visible {
        box-shadow: 0 0 10px 2px var(--particle-color-1, #F97316);
    }
  
    /* --- GLOBAL STYLES --- */
    :root {
      /* Base variables that don't change with themes */
      --input-bg: rgba(10, 10, 11, 0.92);
      --card-bg: #0A0A0B;
      --text-primary: #FFFFFF;
      --text-secondary: rgba(235, 235, 245, 0.6);
      /* Fallback UI variables */
      --ui-bg-tint: rgba(44, 15, 74, 0.3);
      --ui-border-color: rgba(124, 58, 237, 0.15);
      --card-hover-bg: #191938;
      --modal-bg: #0A0A0B;
      --input-focus-border: #7c3aed; /* Fallback focus color */
      --ui-edge-glow: rgba(124, 58, 237, 0.12); /* Fallback edge glow */
    }
    
    .theme-default {
      /* Chat Background */
      --chat-bg-dark: #10031c; /* From home screen gradient */
      --chat-bg-light: #06010a; /* From home screen gradient */
      --core-glow: rgba(249, 115, 22, 0.45);
      --particle-color-1: #F97316;
      --particle-color-2: #DC2626;
      --user-bubble-bg: #1a0f2c; /* Kept for purple accent */
      /* UI Tints */
      --ui-bg-tint: rgba(26, 9, 44, 0.4); /* Darker purple tint to match new background */
      --ui-border-color: rgba(124, 58, 237, 0.15);
      --card-hover-bg: #191938;
      --modal-bg: #0A0A0B;
      --input-focus-border: #7c3aed; /* nexusPurple-600 */
      --ui-edge-glow: rgba(124, 58, 237, 0.12);
    }

    .theme-crimson {
      --chat-bg-dark: #120303;
      --chat-bg-light: #4c0d0d;
      --core-glow: rgba(220, 38, 38, 0.5);
      --particle-color-1: #fbbf24;
      --particle-color-2: #f97316;
      --user-bubble-bg: #2c0f0f;
      /* UI Tints */
      --ui-bg-tint: rgba(76, 13, 13, 0.3);
      --ui-border-color: rgba(220, 38, 38, 0.15);
      --card-hover-bg: #4c0d0d;
      --modal-bg: #120303;
      --input-focus-border: #dc2626; /* red-600 */
      --ui-edge-glow: rgba(220, 38, 38, 0.12);
    }

    .theme-aurora {
      --chat-bg-dark: #021114;
      --chat-bg-light: #0d3d3a;
      --core-glow: rgba(249, 115, 22, 0.45);
      --particle-color-1: #a7f3d0;
      --particle-color-2: #5eead4;
      --user-bubble-bg: #0f2c2a;
      /* UI Tints */
      --ui-bg-tint: rgba(13, 61, 58, 0.3);
      --ui-border-color: rgba(20, 184, 166, 0.15);
      --card-hover-bg: #0d3d3a;
      --modal-bg: #021114;
      --input-focus-border: #14b8a6; /* teal-500 */
      --ui-edge-glow: rgba(20, 184, 166, 0.12);
    }

    .theme-forest {
      --chat-bg-dark: #05100a;
      --chat-bg-light: #163a1e;
      --core-glow: rgba(249, 115, 22, 0.45);
      --particle-color-1: #bbf7d0;
      --particle-color-2: #fde047;
      --user-bubble-bg: #102c17;
      /* UI Tints */
      --ui-bg-tint: rgba(22, 58, 30, 0.3);
      --ui-border-color: rgba(34, 197, 94, 0.15);
      --card-hover-bg: #163a1e;
      --modal-bg: #05100a;
      --input-focus-border: #22c55e; /* green-500 */
      --ui-edge-glow: rgba(34, 197, 94, 0.12);
    }

    .theme-stargaze {
      --chat-bg-dark: #000411;
      --chat-bg-light: #0d1a3e;
      --core-glow: rgba(249, 115, 22, 0.45);
      --particle-color-1: #e0f2fe;
      --particle-color-2: #7dd3fc;
      --user-bubble-bg: #1e293b;
      /* UI Tints */
      --ui-bg-tint: rgba(13, 26, 62, 0.3);
      --ui-border-color: rgba(56, 189, 248, 0.15);
      --card-hover-bg: #0d1a3e;
      --modal-bg: #000411;
      --input-focus-border: #38bdf8; /* sky-400 */
      --ui-edge-glow: rgba(56, 189, 248, 0.12);
    }

    .theme-hightimes {
      --chat-bg-dark: #0a0e0c;
      --chat-bg-light: #182821;
      --core-glow: rgba(249, 115, 22, 0.45);
      --particle-color-1: rgba(74, 222, 128, 0.7);
      --particle-color-2: #fde047;
      --user-bubble-bg: #111827;
      /* UI Tints */
      --ui-bg-tint: rgba(24, 40, 33, 0.3);
      --ui-border-color: rgba(74, 222, 128, 0.15);
      --card-hover-bg: #182821;
      --modal-bg: #0a0e0c;
      --input-focus-border: #4ade80; /* emerald-400 */
      --ui-edge-glow: rgba(74, 222, 128, 0.12);
    }

    html {
      font-size: 17px;
    }

    html, body, #root {
      height: 100%;
    }
    
    /* Custom Scrollbar Styles */
    ::-webkit-scrollbar {
      width: 10px;
    }
    ::-webkit-scrollbar-track {
      background: #0A0A0B;
    }
    ::-webkit-scrollbar-thumb {
      background-color: #282828;
      border-radius: 5px;
      border: 2px solid #0A0A0B;
    }
    ::-webkit-scrollbar-thumb:hover {
      background-color: #444;
    }
    /* For Firefox */
    * {
      scrollbar-width: thin;
      scrollbar-color: #282828 #0A0A0B;
    }

    body.loading-animation-active, 
    body.loading-animation-active #root {
      overflow: visible !important;
    }

    body.auth-visible {
      overflow-y: auto;
    }

    body {
      overflow: hidden;
      background-color: #06010a;
      background-image: radial-gradient(ellipse at 50% 0%, #10031c 0%, #06010a 70%);
      color: var(--text-primary);
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
      font-size: 1rem;
      line-height: 1.6;
      transition: background-image 1.5s ease-in-out, background-color 1.5s ease-in-out;
      position: relative;
    }
    
    body.is-typing .stars-container {
        opacity: 0.2;
        transition: opacity 0.5s ease-out;
    }
    
    body::after {
        content: '';
        position: fixed;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(44, 15, 74, 0.3) 0%, rgba(13, 2, 25, 0) 50%);
        animation: rotate-gradient 80s linear infinite;
        z-index: 0;
        transition: background 1.5s ease-in-out;
    }
    
    .global-edge-glow::before {
        content: '';
        position: fixed;
        inset: 0;
        pointer-events: none;
        box-shadow: inset 0 0 15px 7px var(--ui-edge-glow);
        z-index: 10000;
        transition: box-shadow 1.5s ease-in-out;
    }
    
    body.in-chat {
        background-image: none;
        overflow: hidden !important;
    }

    body.in-chat::after {
        display: none;
    }

    #root {
        position: relative;
        z-index: 3;
    }

    #root::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 150px;
      background: linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%);
      pointer-events: none;
      z-index: 10;
    }
    
    @property --angle {
      syntax: '<angle>';
      initial-value: 0deg;
      inherits: false;
    }

    @keyframes chase-border {
      to { --angle: 360deg; }
    }
    
    /* This rule applies the glow effect to any tile that is hovered over */
    .mode-tile-button:hover::before,
    /* This rule applies the glow effect to any tile that has the .chase-border-glow class (for selected/clicked states) */
    .chase-border-glow::before {
      content: '';
      position: absolute;
      inset: -1px;
      border-radius: 1rem; /* matches rounded-2xl */
      padding: 1px;
      background: conic-gradient(from var(--angle),
        transparent,
        var(--core-glow),
        transparent 30%);
      -webkit-mask:
        linear-gradient(#fff 0 0) content-box,
        linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      animation: chase-border 4s linear infinite;
      pointer-events: none;
    }

    .ai-bubble-chase-glow::before {
      content: '';
      position: absolute;
      inset: -1px;
      /* Match the AI bubble's specific corner rounding */
      border-top-left-radius: 1rem;
      border-top-right-radius: 1rem;
      border-bottom-right-radius: 1rem;
      border-bottom-left-radius: 0.5rem; /* This matches rounded-bl-lg */
      padding: 1px;
      background: conic-gradient(from var(--angle),
        transparent,
        var(--core-glow),
        transparent 30%);
      -webkit-mask:
        linear-gradient(#fff 0 0) content-box,
        linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      animation: chase-border 4s linear infinite;
      pointer-events: none;
    }

    .user-bubble-chase-glow::before {
      content: '';
      position: absolute;
      inset: -1px;
      /* Match the USER bubble's specific corner rounding */
      border-top-left-radius: 1rem;
      border-top-right-radius: 1rem;
      border-bottom-right-radius: 0.5rem; /* This matches rounded-br-lg */
      border-bottom-left-radius: 1rem;
      padding: 1px;
      background: conic-gradient(from var(--angle),
        transparent,
        var(--core-glow),
        transparent 30%);
      -webkit-mask:
        linear-gradient(#fff 0 0) content-box,
        linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      animation: chase-border 4s linear infinite;
      pointer-events: none;
    }
    
    .play-pause-spinner {
        width: 100%;
        height: 100%;
        border-radius: 9999px;
        border: 2px solid rgba(255, 255, 255, 0.2);
        border-top-color: var(--particle-color-1);
        animation: chase-border-spinner 0.8s linear infinite;
    }

    /* --- Live Voice Burn-In Animation --- */
    .burn-in-animation .content {
      position: relative;
      height: 350px;
      width: 350px;
      margin: auto;
    }
    .burn-in-animation .burn {
      position: absolute;
      height: 0px;
      width: 0px;
      border-radius: 50%;
      top: 50%;
      right: 50%;
      animation: 4s burn-grow linear 1 forwards;
    }
    @keyframes burn-grow {
      0% {
        opacity: 1;
        height: 0px;
        width: 0px;
        top: 50%;
        right: 50%;
        border: 3px solid #FFFB5C;
        box-shadow: inset 0px 0px 6px 2px #FFFB5C, inset 0px 0px 5px 6px rgba(243, 108, 0,0.5), 0px 0px 6px 2px #FFFB5C, 0px 0px 15px 10px rgba(241, 124, 4, 0.6), 0px 0px 8px 11px #1c0901eb, inset 0px 0px 29px 22px #c4720f42;
      }
      80% {
        opacity: 1;
        height: 350px;
        width: 350px;
        top: calc(50% - 175px);
        right: calc(50% - 175px);
        border: 3px solid #FFFB5C;
        box-shadow: inset 0px 0px 6px 2px #FFFB5C, inset 0px 0px 5px 6px rgba(243, 108, 0,0.5), 0px 0px 6px 2px #FFFB5C, 0px 0px 15px 10px rgba(241, 124, 4, 0.6), 0px 0px 8px 11px #1c0901eb, inset 0px 0px 29px 22px #c4720f42;
      }
      100% {
        opacity: 0;
        height: 350px;
        width: 350px;
        top: calc(50% - 175px);
        right: calc(50% - 175px);
        border: 3px solid rgb(49, 22, 1);
        box-shadow: none;
      }
    }
    .burn-in-animation .flame {
        background-color: #fffc98;
        position: absolute;
        animation-iteration-count: 1;
        animation-fill-mode: forwards;
        opacity: 0;
    }
    .burn-in-animation .flame:nth-of-type(1) { border-radius: 50% 0; animation: 2.5s flame-1 linear; transform-origin: bottom left; }
    .burn-in-animation .flame:nth-of-type(2) { border-radius: 50% 0; animation: 2.5s flame-2 linear; transform-origin: bottom left; }
    .burn-in-animation .flame:nth-of-type(3) { border-radius: 50% 0; animation: 2.5s flame-3 linear; transform-origin: bottom left; }
    .burn-in-animation .flame:nth-of-type(4) { border-radius: 0 50%; animation: 2.5s flame-4 linear; transform-origin: bottom right; }
    .burn-in-animation .flame:nth-of-type(5) { border-radius: 0 50%; animation: 2.5s flame-5 linear; transform-origin: bottom right; }
    .burn-in-animation .flame:nth-of-type(6) { border-radius: 0 50%; animation: 2.5s flame-6 linear; transform-origin: bottom right; }
    .burn-in-animation .flame:nth-of-type(7) { border-radius: 0 50%; animation: 2.5s flame-7 linear; transform-origin: bottom right; }
    .burn-in-animation .flame:nth-of-type(8) { border-radius: 0 50%; animation: 2.5s flame-8 linear; transform-origin: bottom right; }
    .burn-in-animation .flame:nth-of-type(9) { border-radius: 0 50%; animation: 2.5s flame-9 linear; transform-origin: bottom right; }
    .burn-in-animation .flame:nth-of-type(10){ border-radius: 0 50%; animation: 2.5s flame-10 linear; transform-origin: bottom right; }

    @keyframes flame-1 { 0% { opacity:1; height:0; width:0; left:8%; bottom:76%; transform:rotate(-45deg); } 40% { height:20px; width:20px; opacity:1; } 100% { height:0; width:0; left:5%; bottom:80%; opacity:0; transform:rotate(-15deg); } }
    @keyframes flame-2 { 0% { opacity:1; height:0; width:0; left:31%; top:2%; transform:rotate(-17deg); } 40% { height:20px; width:20px; opacity:1; } 100% { height:0; width:0; left:35%; top:-5%; opacity:0; transform:rotate(-32deg); } }
    @keyframes flame-3 { 0% { opacity:1; height:0; width:0; left:40%; top:-6%; transform:rotate(-15deg); } 40% { height:20px; width:20px; opacity:1; } 100% { height:0; width:0; left:42%; top:-10%; opacity:0; transform:rotate(15deg); } }
    @keyframes flame-4 { 0% { opacity:1; height:0; width:0; right:20%; top:5%; transform:rotate(0deg); } 40% { height:20px; width:20px; opacity:1; } 100% { height:0; width:0; right:18%; top:2%; opacity:0; transform:rotate(40deg); } }
    @keyframes flame-5 { 0% { opacity:1; height:0; width:0; left:98%; top:38%; transform:rotate(15deg); } 40% { height:20px; width:20px; opacity:1; } 100% { height:0; width:0; left:95%; top:35%; opacity:0; transform:rotate(-15deg); } }
    @keyframes flame-6 { 0% { opacity:1; height:0; width:0; left:96%; top:35%; transform:rotate(45deg); } 40% { height:20px; width:20px; opacity:1; } 100% { height:0; width:0; left:92%; top:38%; opacity:0; transform:rotate(75deg); } }
    @keyframes flame-7 { 0% { opacity:1; height:0; width:0; left:63%; top:91%; transform:rotate(70deg); } 40% { height:20px; width:20px; opacity:1; } 100% { height:0; width:0; left:60%; top:88%; opacity:0; transform:rotate(40deg); } }
    @keyframes flame-8 { 0% { opacity:1; height:0; width:0; left:69%; top:80%; transform:rotate(80deg); } 40% { height:30px; width:30px; opacity:1; } 100% { height:0; width:0; left:66%; top:78%; opacity:0; transform:rotate(50deg); } }
    @keyframes flame-9 { 0% { opacity:1; height:0; width:0; left:23%; top:85%; transform:rotate(70deg); } 40% { height:20px; width:20px; opacity:1; } 100% { height:0; width:0; left:25%; top:82%; opacity:0; transform:rotate(40deg); } }
    @keyframes flame-10{ 0% { opacity:1; height:0; width:0; top:57%; left:0%; transform:rotate(-10deg); } 40% { height:15px; width:15px; opacity:1; } 100% { height:0; width:0; top:55%; left:-5%; opacity:0; transform:rotate(10deg); } }

    /* --- Themed Dot Loader --- */
    .themed-dot-loader .dot-1 { background-color: #DC2626; animation-delay: 0s; }
    .themed-dot-loader .dot-2 { background-color: #F97316; animation-delay: 0.2s; }
    .themed-dot-loader .dot-3 { background-color: #FDE047; animation-delay: 0.4s; }

    /* --- Live Voice UI Layout --- */
    .live-voice-header { position: absolute; top: 1rem; right: 1rem; z-index: 10; }
    .live-voice-body { position: relative; width: 100%; text-align: center; }
    .live-voice-transcript {
      max-height: 20vh;
      overflow-y: auto;
      margin-top: 1rem;
      padding: 0 1rem;
      text-align: center;
      scrollbar-width: none; /* Firefox */
    }
    .live-voice-transcript::-webkit-scrollbar { display: none; } /* Chrome, Safari */
    .live-voice-footer { position: absolute; bottom: calc(2rem + env(safe-area-inset-bottom)); display: flex; gap: 1rem; z-index: 10; }
    .mute-btn { background-color: #22c55e; /* green-500 */ }
    .mute-btn.muted { background-color: #DC2626; }
    .end-call-btn { background-color: #DC2626; }
    .fade-scroll-edges {
      mask-image: linear-gradient(to bottom, transparent 0%, black 15%, black 85%, transparent 100%);
      -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 15%, black 85%, transparent 100%);
    }

    /* --- Voice Visualizer Effects --- */
    .waveform-fade-edges {
        mask-image: linear-gradient(to right, transparent, black 20%, black 80%, transparent);
        -webkit-mask-image: linear-gradient(to right, transparent, black 20%, black 80%, transparent);
    }
    .voice-visualizer-glow {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 200%;
      height: 150%;
      background: radial-gradient(ellipse at 50% 100%, var(--core-glow) 0%, transparent 60%);
      opacity: 0;
      transition: opacity 0.2s linear, transform 0.2s linear;
      will-change: opacity, transform;
    }
    .voice-visualizer-ember {
      position: absolute;
      bottom: 0;
      left: 50%;
      width: 4px;
      height: 4px;
      border-radius: 50%;
      background: radial-gradient(circle, #fef08a, var(--particle-color-1), transparent 70%);
      pointer-events: none;
      opacity: 0;
      animation: voice-ember-rise 3s ease-out;
    }

    @keyframes voice-ember-rise {
      from {
        transform: translateY(0) scale(1) translateX(-50%);
        opacity: 0.9;
      }
      to {
        transform: translateY(-20vh) scale(0.5) translateX(var(--x-drift, -50%));
        opacity: 0;
      }
    }
    
    @keyframes nexus-particle-rise {
      from {
        transform: translateY(0) scale(1);
        opacity: 0.8;
      }
      to {
        transform: translateY(-40vh) scale(0.5) translateX(calc(var(--x-drift, 0) * 1px));
        opacity: 0;
      }
    }

    @keyframes fire-flicker-rise {
      0% {
        transform: translateY(0) scale(1) skewX(0);
        opacity: 0.7;
      }
      50% {
        transform: translateY(-25vh) scale(1.2) skewX(5deg);
        opacity: 0.3;
      }
      100% {
        transform: translateY(-50vh) scale(0.8) skewX(-5deg);
        opacity: 0;
      }
    }
    
    .star-particle {
        position: absolute;
        background-color: white;
        border-radius: 50%;
    }
    
    .shooting-star {
        position: absolute;
        width: 100px;
        height: 2px;
        background: linear-gradient(-45deg, rgba(255, 255, 255, 1), rgba(255, 255, 255, 0));
        border-radius: 999px;
        filter: drop-shadow(0 0 6px white);
        animation-name: shooting-star-travel;
        animation-timing-function: linear;
        animation-iteration-count: infinite;
    }

    .fire-particle {
        display: none;
    }

    .theme-crimson .fire-particle {
        display: block;
        position: absolute;
        bottom: -20px;
        width: 10px;
        height: 15px;
        background: radial-gradient(circle, #fef08a, #f97316, #dc2626, transparent 70%);
        border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
        transform: rotate(-45deg);
        pointer-events: none;
        animation-name: fire-flicker-rise;
        animation-timing-function: ease-in-out;
        animation-iteration-count: infinite;
    }
    
    .devil-emoji, .drip, .steam {
        display: none;
        opacity: 0;
    }
    
    .theme-crimson .devil-emoji {
        display: block;
        position: absolute;
        bottom: 20px;
        right: 20px;
        font-size: 8rem;
        animation: smirk-and-fade 10s ease-in-out infinite;
        z-index: 1;
        opacity: 0;
    }

    .theme-crimson .drip {
        display: block;
        position: absolute;
        top: -100px;
        width: 2px;
        height: 100px;
        background: linear-gradient(to bottom, rgba(220, 38, 38, 0), rgba(220, 38, 38, 0.4));
        animation: drip-fall 4s linear infinite;
    }

    .theme-crimson .steam {
        display: block;
        position: absolute;
        width: 50px;
        height: 50px;
        background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 0) 70%);
        border-radius: 50%;
        animation: steam-rise 6s ease-out infinite;
        opacity: 0;
    }

    @keyframes smirk-and-fade {
        0%, 100% { opacity: 0; transform: scale(0.9) translateY(10px); }
        50% { opacity: 0.2; transform: scale(1) translateY(0); }
    }

    @keyframes drip-fall {
        from { transform: translateY(0); }
        to { transform: translateY(120vh); }
    }

    @keyframes steam-rise {
        from { transform: translateY(0) scale(0.5); opacity: 0; }
        50% { opacity: 0.1; }
        to { transform: translateY(-50vh) scale(2); opacity: 0; }
    }

    .nexus-particle {
        position: absolute;
        bottom: -50px;
        width: 4px;
        height: 4px;
        border-radius: 50%;
        background: linear-gradient(45deg, var(--particle-color-1), var(--particle-color-2));
        pointer-events: none;
        animation-name: nexus-particle-rise;
        animation-timing-function: ease-out;
        animation-iteration-count: infinite;
    }

    .nexus-core-glow {
        position: absolute;
        bottom: -10%;
        left: 0;
        width: 100%;
        height: 25%;
        background: radial-gradient(ellipse at 50% 100%, var(--core-glow) 0%, transparent 70%);
        animation: fire-pulse 3s ease-in-out infinite;
        opacity: 0.7;
    }
    .nexus-core-pulse {
        position: absolute;
        bottom: 0;
        left: 0;
        transform: translateY(50%);
        width: 100%;
        height: 5%;
        background: var(--particle-color-1);
        border-radius: 50%;
        filter: blur(20px);
        animation: pulse-strong 3s ease-in-out infinite;
        opacity: 0.7;
    }
    
    .ember-particle {
        position: absolute;
        bottom: -20px;
        width: 3px;
        height: 3px;
        border-radius: 50%;
        background: radial-gradient(circle, #fef08a, #f97316, transparent 70%);
        pointer-events: none;
        animation-name: ember-rise-subtle;
        animation-timing-function: ease-out;
        animation-iteration-count: infinite;
    }

    .smoke-particle {
        position: absolute;
        bottom: -50px;
        width: 150px;
        height: 150px;
        background: radial-gradient(circle, rgba(10, 5, 15, 0.4) 0%, transparent 60%);
        border-radius: 50%;
        animation-name: smoke-rise;
        animation-timing-function: ease-out;
        animation-iteration-count: infinite;
        filter: blur(25px);
        opacity: 0;
    }
    .cloud-particle {
        position: absolute;
        width: 35vw;
        height: 15vh;
        background: radial-gradient(ellipse at center, rgba(124, 58, 237, 1) 0%, transparent 80%);
        border-radius: 50%;
        animation-name: float-cloud;
        animation-timing-function: linear;
        animation-iteration-count: infinite;
        opacity: 0.03;
        filter: blur(40px);
    }
    
    /* --- Extra Thinking Animation --- */
    .watermark-icon-wrapper {
        opacity: 0.03 !important;
        animation: subtle-pulse 4s ease-in-out infinite;
        transition: opacity 0.5s ease-in-out;
    }
    .watermark-container {
        transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94); /* For the float back effect */
    }
    .extra-thinking-active .watermark-container {
        transform: scale(2);
        transition: transform 0.5s ease-out;
    }
    .extra-thinking-active .watermark-icon-wrapper {
        opacity: 0.3;
        animation: none; /* Stop the subtle pulse */
    }
    /* This ::before will be the chasing border */
    .extra-thinking-active .watermark-container::before {
        content: '';
        position: absolute;
        inset: -20px; /* Give it some space from the icon */
        border-radius: 50%;
        padding: 2px;
        background: conic-gradient(from var(--angle),
        transparent 20%,
        #f97316,
        #dc2626,
        transparent 80%);
        -webkit-mask:
        linear-gradient(#fff 0 0) content-box,
        linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        animation: chase-border 3s linear infinite;
        pointer-events: none;
        opacity: 0.8;
    }
    /* This ::after will be the radiating glow */
    .extra-thinking-active .watermark-container::after {
        content: '';
        position: absolute;
        inset: 0;
        background: radial-gradient(circle, rgba(249, 115, 22, 0.5) 0%, transparent 60%);
        border-radius: 50%;
        animation: radiate-outward 2.5s ease-out infinite;
        pointer-events: none;
    }

    .blinking-cursor {
        font-weight: 300;
        animation: blink 1s step-end infinite;
    }

    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }
    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }

    .range-thumb::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      background: #a78bfa; /* nexusPurple-400 */
      cursor: pointer;
      border-radius: 50%;
      border: 2px solid var(--modal-bg);
    }

    .range-thumb::-moz-range-thumb {
      width: 18px;
      height: 18px;
      background: #a78bfa; /* nexusPurple-400 */
      cursor: pointer;
      border-radius: 50%;
      border: 2px solid var(--modal-bg);
    }
    
    .modal-overlay {
        position: fixed;
        inset: 0;
        background-color: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(10px);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 50;
    }

    .menu-slide-in {
      animation: menu-slide-in 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
    }
    @keyframes menu-slide-in {
      from {
        opacity: 0;
        transform: translateX(-20px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
  </style>

<script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.25.0",
    "qrcode.react": "https://aistudiocdn.com/qrcode.react@^4.2.0",
    "dotenv/": "https://aistudiocdn.com/dotenv@^17.2.3/",
    "express": "https://aistudiocdn.com/express@^5.1.0",
    "cors": "https://aistudiocdn.com/cors@^2.8.5",
    "body-parser": "https://aistudiocdn.com/body-parser@^2.2.0"
  }
}
</script>
<script type="module" src="/index.tsx"></script>

</head>
<body>
  <div id="pre-load" class="loader">
    <div class="loader-inner">
      <div class="loader-logo">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <linearGradient id="grad-nexus-icon-preloader" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" stop-color="#F97316" />
                    <stop offset="100%" stop-color="#DC2626" />
                </linearGradient>
            </defs>
            <path stroke="transparent" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" fill="none" d="M18.122 17.645a7.185 7.185 0 0 1-2.656 2.495 7.06 7.06 0 0 1-3.52.853 6.617 6.617 0 0 1-3.306-.718 6.73 6.73 0 0 1-2.54-2.266c-2.672-4.57.287-8.846.887-9.668A4.448 4.448 0 0 0 8.07 6.31 4.49 4.49 0 0 0 7.997 4c1.284.965 6.43 3.258 5.525 10.631 1.496-1.136 2.7-3.046 2.846-6.216 1.43 1.061 3.985 5.462 1.754 9.23Z"/>
            <path class="gradient-path" stroke="url(#grad-nexus-icon-preloader)" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" fill="none" d="M18.122 17.645a7.185 7.185 0 0 1-2.656 2.495 7.06 7.06 0 0 1-3.52.853 6.617 6.617 0 0 1-3.306-.718 6.73 6.73 0 0 1-2.54-2.266c-2.672-4.57.287-8.846.887-9.668A4.448 4.448 0 0 0 8.07 6.31 4.49 4.49 0 0 0 7.997 4c1.284.965 6.43 3.258 5.525 10.631 1.496-1.136 2.7-3.046 2.846-6.216 1.43 1.061 3.985 5.462 1.754 9.23Z"/>
        </svg>
      </div>
      <div class="box"></div>
      <div class="box"></div>
      <div class="box"></div>
      <div class="box"></div>
      <div class="box"></div>
    </div>
  </div>
  <div id="root"></div>

  <script>
    // Preloader hiding logic
    const preloader = document.getElementById('pre-load');

    const hidePreloader = () => {
        if (!preloader) return;
        preloader.classList.add('loaded');
        setTimeout(() => {
            preloader.style.display = 'none';
        }, 800); // Match new CSS animation duration
    };
    
    // Wait for a minimum of 3.25 seconds AND for the window to load
    Promise.all([
        new Promise(resolve => setTimeout(resolve, 3250)),
        new Promise(resolve => window.addEventListener('load', resolve))
    ]).then(hidePreloader);
  </script>
</body>
</html>